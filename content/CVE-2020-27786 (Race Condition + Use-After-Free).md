tags: #linux #kernel #uaf #race_condition #rop
original link: [CVE-2020-27786 (Race Condition + Use-After-Free)](https://ii4gsp.github.io/cve-2020-27786/?ref=blog.exploits.club) 
newsletter link:  [exploits.club Weekly Newsletter 37 - Juicy Overflows, The Art Of Exploitation, Rust in Firmware, and More](https://blog.exploits.club/exploits-club-weekly-newsletter-37-juicy-overflows-the-art-of-exploitation-rust-in-firmware-and-more/)

---
## Exploits Club Summary:
> We love a post that talks methodology, but we also love a post that gets right into the nitty details. This new one from [@ii4gsp](https://ii4gsp.github.io/cve-2020-27786/?ref=blog.exploits.club) is very much the latter, walking through **his exploit technique for** [**CVE-2020-27786**](https://nvd.nist.gov/vuln/detail/CVE-2020-27786?ref=blog.exploits.club)**, a use-after-free caused by a race condition in Linux's MIDI driver.** The post quickly discusses the root cause and the patch before diving into exploitation. **He bypassed KASLR with `msg_msg` and used `tty_struct` in combination with the spray of a ROP chain and fake function table to successfully escalate privileges.**